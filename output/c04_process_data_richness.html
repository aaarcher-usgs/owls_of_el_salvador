<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Processing data from Access</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<h1>Processing data from Access</h1>

<p>Description: This program takes raw data exported 
from Access database and organizes it to better understand what data are 
available and process it for analysis.</p>

<h3>Preamble</h3>

<p>Load libraries</p>

<pre><code class="r">library(knitr) # documentation-related
library(ezknitr) # documentation-related
library(devtools) # documentation-related

# analysis-related
library(readxl)
library(lubridate)
library(dplyr)
library(ImportExport)
</code></pre>

<p>Clear environment and set seed</p>

<p><em>Note: for reproducibility, it is important to include these. Clearing the
environment ensures that you have specified all pertinent files that need
to be loaded, and setting the seed ensures that your analysis is 
repeatable</em></p>

<pre><code class="r">remove(list = ls())
set.seed(2583722)
</code></pre>

<hr/>

<h2>Load Data</h2>

<p>Access tables, in Rdata format</p>

<pre><code class="r">load(file = &quot;data/processed_data/tables_global.Rdata&quot;)
</code></pre>

<p>Supplemental JAGS table</p>

<pre><code class="r">load(file = &quot;data/processed_data/data_jags_global.Rdata&quot;)
</code></pre>

<hr/>

<h2>Prepare for JAGS</h2>

<h3>Create tables for Ys and Broadcast species covariates</h3>

<p>Create an array of Ys (detections/non-detections) for each of the <strong>possible</strong>
surveys</p>

<p>Specifically: 6 routes (hh), 10 stations (jj), up to 3 surveys per year (ii), 
11 total years (tt)
and 2 broadcast times (kk)</p>

<p>There will be 198 total matrices, each with 10 rows (j, stations) and 2 columns 
(k, before or after broadcast)</p>

<h4>Define variables</h4>

<p>Observations</p>

<pre><code class="r">n.route &lt;- length(unique(data.jags$Route_ID)) # hh
route.names &lt;- unique(data.jags$Route_ID)

n.year &lt;- length(min(data.jags$year):max(data.jags$year)) # tt
year.names &lt;- min(data.jags$year):max(data.jags$year)

n.survey &lt;- max(data.jags$order) # ii
n.station &lt;- 10 # jj
n.broadcast &lt;- 2 # kk
</code></pre>

<p><strong>Augmenting species number</strong></p>

<p>There were 10 observed owls (if we pool all three unknown observations)</p>

<pre><code class="r">(species.names &lt;- unique(tab.owls$Owl_Species_ID))
</code></pre>

<pre><code>## [1] &quot;Mottd&quot;   &quot;PacSc&quot;   &quot;FerPy&quot;   &quot;Specd&quot;   &quot;Barn&quot;    &quot;Styg&quot;    &quot;Whisk&quot;   &quot;GrHor&quot;  
## [9] &quot;Fulvous&quot;
</code></pre>

<pre><code class="r">n.species &lt;- length(species.names)
</code></pre>

<p>We should augment with M &gt;&gt; n, where n = 10</p>

<p>Owls of El Salvador lists 13 total species recorded in El Salvador (Table 11.1, p401), so with Stygian, this should be 14</p>

<pre><code class="r">n.aug &lt;- 5 #number of species that may have been present but were undetected
n.species.aug &lt;- n.species + n.aug
</code></pre>

<h3>Create Broadcast arrays</h3>

<pre><code class="r">ks &lt;-  array(0, dim = c(n.route, 
                        n.station, 
                        n.broadcast))
ks.prebroad &lt;- ks.mottled &lt;- ks.pacific &lt;- ks.crested &lt;- ks.bw &lt;- 
  ks.spectacled &lt;- ks.whiskered &lt;- ks.gbarred &lt;- ks.stygian &lt;- ks.ghorned &lt;- ks

broadcast.array &lt;- array(c(
  rep(c(&quot;PacSc&quot;, &quot;Mottd&quot;, &quot;Crested&quot;, &quot;BW&quot;, &quot;Specd&quot;),4), # routes EI1/EI2
  rep(c(&quot;Whisk&quot;, &quot;Mottd&quot;, &quot;Guat Barred&quot;, &quot;Styg&quot;, &quot;GrHor&quot;),4), # routes M1/M2
  rep(c(&quot;PacSc&quot;, &quot;Mottd&quot;, &quot;Crested&quot;, &quot;BW&quot;, &quot;Specd&quot;),4)), # routes N1/N2
  dim = c(n.station, n.route))
broadcast.array
</code></pre>

<pre><code>##       [,1]      [,2]      [,3]          [,4]          [,5]      [,6]     
##  [1,] &quot;PacSc&quot;   &quot;PacSc&quot;   &quot;Whisk&quot;       &quot;Whisk&quot;       &quot;PacSc&quot;   &quot;PacSc&quot;  
##  [2,] &quot;Mottd&quot;   &quot;Mottd&quot;   &quot;Mottd&quot;       &quot;Mottd&quot;       &quot;Mottd&quot;   &quot;Mottd&quot;  
##  [3,] &quot;Crested&quot; &quot;Crested&quot; &quot;Guat Barred&quot; &quot;Guat Barred&quot; &quot;Crested&quot; &quot;Crested&quot;
##  [4,] &quot;BW&quot;      &quot;BW&quot;      &quot;Styg&quot;        &quot;Styg&quot;        &quot;BW&quot;      &quot;BW&quot;     
##  [5,] &quot;Specd&quot;   &quot;Specd&quot;   &quot;GrHor&quot;       &quot;GrHor&quot;       &quot;Specd&quot;   &quot;Specd&quot;  
##  [6,] &quot;PacSc&quot;   &quot;PacSc&quot;   &quot;Whisk&quot;       &quot;Whisk&quot;       &quot;PacSc&quot;   &quot;PacSc&quot;  
##  [7,] &quot;Mottd&quot;   &quot;Mottd&quot;   &quot;Mottd&quot;       &quot;Mottd&quot;       &quot;Mottd&quot;   &quot;Mottd&quot;  
##  [8,] &quot;Crested&quot; &quot;Crested&quot; &quot;Guat Barred&quot; &quot;Guat Barred&quot; &quot;Crested&quot; &quot;Crested&quot;
##  [9,] &quot;BW&quot;      &quot;BW&quot;      &quot;Styg&quot;        &quot;Styg&quot;        &quot;BW&quot;      &quot;BW&quot;     
## [10,] &quot;Specd&quot;   &quot;Specd&quot;   &quot;GrHor&quot;       &quot;GrHor&quot;       &quot;Specd&quot;   &quot;Specd&quot;
</code></pre>

<pre><code class="r">for(hh in 1:n.route){
  for(jj in 1:n.station){
    ks.prebroad[hh,jj,1] &lt;- 1
    ks.prebroad[hh,jj,2] &lt;- 0

    if(broadcast.array[jj,hh] == &quot;PacSc&quot;){
      ks.pacific[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Mottd&quot;){
      ks.mottled[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Crested&quot;){
      ks.crested[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;BW&quot;){
      ks.bw[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Specd&quot;){
      ks.spectacled[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Whisk&quot;){
      ks.whiskered[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Guat Barred&quot;){
      ks.gbarred[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;Styg&quot;){
      ks.stygian[hh,jj,2] &lt;- 1
    }else if(broadcast.array[jj,hh] == &quot;GrHor&quot;){
      ks.ghorned[hh,jj,2] &lt;- 1
    }
  }
}
</code></pre>

<p>Check a couple examples:</p>

<pre><code class="r">ks.crested[1,,] #EI1, Crested
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    0
##  [3,]    0    1
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    0
##  [8,]    0    1
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<pre><code class="r">ks.mottled[1,,] #EI1, Mottled
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    1
##  [3,]    0    0
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    1
##  [8,]    0    0
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<pre><code class="r">ks.mottled[3,,] #M1, Mottled
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    1
##  [3,]    0    0
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    1
##  [8,]    0    0
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<pre><code class="r">ks.stygian[3,,] #M1, Stygian
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    0
##  [3,]    0    0
##  [4,]    0    1
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    0
##  [8,]    0    0
##  [9,]    0    1
## [10,]    0    0
</code></pre>

<pre><code class="r">ks.stygian[5,,] #N1, Stygian
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    0
##  [3,]    0    0
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    0
##  [8,]    0    0
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<h2>OWL DATA</h2>

<p>Create blank arrays</p>

<pre><code class="r">ys.aug &lt;- array(NA, dim = c(n.route, 
                            n.year, 
                            n.species.aug, 
                            n.survey, 
                            n.station, 
                            n.broadcast))



for(hh in 1:n.route){
  temp.route &lt;- route.names[hh]
  for(tt in 1:n.year){
    temp.year &lt;- year.names[tt]

    for(ii in 1:n.survey){
      temp.surveyID &lt;- 
        tab.survey$Survey_ID[tab.survey$hRt_tYr_iSvy == 
                               paste(temp.route,temp.year,ii, sep = &quot;.&quot;)]
      if(length(temp.surveyID) == 0){ # No survey for this year/route/survey combo

        print(paste(&quot;No survey&quot;, year.names[tt], route.names[hh], ii, sep = &quot; &quot;))

        # Ys will be NA because no survey
        ys.aug[hh,tt,ss,ii,,] &lt;- NA

      }else{ #if there was a survey
        for(jj in 1:n.station){
          temp.stationID &lt;- 
            tab.stations$Stations_ID[tab.stations$Station == 
                                       paste(temp.route,jj, sep = &quot;.&quot;)&amp;
                                       tab.stations$Survey_ID == temp.surveyID]

          if(length(temp.stationID) == 0){ # no survey at that station
            print(paste(&quot;No survey at station&quot;, 
                        year.names[tt], route.names[hh], ii, jj, sep = &quot; &quot;))
            ys.aug[hh,tt,ss,ii,jj,] &lt;- NA
          }else{ #if there was a survey at that station

            # For species observed
            for(ss in 1:n.species){
              temp.species &lt;- species.names[ss]
              temp.owls &lt;- tab.owls[tab.owls$Stations_ID == temp.stationID &amp;
                                      tab.owls$Owl_Species_ID == temp.species,]

              temp.n.rows &lt;- nrow(temp.owls)
              if(temp.n.rows &gt; 0){
                # Was observation before or after broadcast?
                # kk = 1 for before broadcast
                # kk = 2 for after broadcast
                logic.prebroadcast &lt;- c(temp.owls$Minute_1, temp.owls$Minute_2)
                logic.postbroadcast &lt;- c(temp.owls$`Minute_6-12`)

                ys.aug[hh,tt,ss,ii,jj,1] &lt;- 
                  ifelse(sum(logic.prebroadcast)&gt;0, yes = 1, no = 0)
                ys.aug[hh,tt,ss,ii,jj,2] &lt;- 
                  ifelse(sum(logic.postbroadcast)&gt;0, yes = 1, no = 0)
              }else{
                ys.aug[hh,tt,ss,ii,jj,] &lt;- 0
              }


            }

            # For augmented (unobserved) species
            for(ss in (n.species+1):n.species.aug){
              ys.aug[hh,tt,ss,ii,jj,] &lt;- 0
            }

          }
        }
      }
    }

  }
}
</code></pre>

<pre><code>## [1] &quot;No survey 2003 EI1 3&quot;
## [1] &quot;No survey 2004 EI1 3&quot;
## [1] &quot;No survey 2005 EI1 3&quot;
## [1] &quot;No survey 2006 EI1 1&quot;
## [1] &quot;No survey 2006 EI1 2&quot;
## [1] &quot;No survey 2006 EI1 3&quot;
## [1] &quot;No survey 2007 EI1 3&quot;
## [1] &quot;No survey 2008 EI1 3&quot;
## [1] &quot;No survey 2009 EI1 2&quot;
## [1] &quot;No survey 2009 EI1 3&quot;
## [1] &quot;No survey at station 2010 EI1 1 4&quot;
## [1] &quot;No survey at station 2010 EI1 1 5&quot;
## [1] &quot;No survey at station 2010 EI1 1 6&quot;
## [1] &quot;No survey at station 2010 EI1 1 7&quot;
## [1] &quot;No survey at station 2010 EI1 1 8&quot;
## [1] &quot;No survey at station 2010 EI1 1 9&quot;
## [1] &quot;No survey at station 2010 EI1 1 10&quot;
## [1] &quot;No survey at station 2010 EI1 2 4&quot;
## [1] &quot;No survey at station 2010 EI1 2 5&quot;
## [1] &quot;No survey at station 2010 EI1 2 6&quot;
## [1] &quot;No survey at station 2010 EI1 2 7&quot;
## [1] &quot;No survey at station 2010 EI1 2 8&quot;
## [1] &quot;No survey at station 2010 EI1 2 9&quot;
## [1] &quot;No survey at station 2010 EI1 2 10&quot;
## [1] &quot;No survey 2010 EI1 3&quot;
## [1] &quot;No survey 2011 EI1 2&quot;
## [1] &quot;No survey 2011 EI1 3&quot;
## [1] &quot;No survey 2012 EI1 2&quot;
## [1] &quot;No survey 2012 EI1 3&quot;
## [1] &quot;No survey 2013 EI1 2&quot;
## [1] &quot;No survey 2013 EI1 3&quot;
## [1] &quot;No survey 2003 EI2 3&quot;
## [1] &quot;No survey 2004 EI2 3&quot;
## [1] &quot;No survey 2005 EI2 3&quot;
## [1] &quot;No survey 2006 EI2 1&quot;
## [1] &quot;No survey 2006 EI2 2&quot;
## [1] &quot;No survey 2006 EI2 3&quot;
## [1] &quot;No survey at station 2007 EI2 1 6&quot;
## [1] &quot;No survey at station 2007 EI2 1 7&quot;
## [1] &quot;No survey at station 2007 EI2 1 8&quot;
## [1] &quot;No survey at station 2007 EI2 1 9&quot;
## [1] &quot;No survey at station 2007 EI2 1 10&quot;
## [1] &quot;No survey 2007 EI2 2&quot;
## [1] &quot;No survey 2007 EI2 3&quot;
## [1] &quot;No survey 2008 EI2 3&quot;
## [1] &quot;No survey 2009 EI2 2&quot;
## [1] &quot;No survey 2009 EI2 3&quot;
## [1] &quot;No survey 2010 EI2 1&quot;
## [1] &quot;No survey 2010 EI2 2&quot;
## [1] &quot;No survey 2010 EI2 3&quot;
## [1] &quot;No survey 2011 EI2 3&quot;
## [1] &quot;No survey 2012 EI2 1&quot;
## [1] &quot;No survey 2012 EI2 2&quot;
## [1] &quot;No survey 2012 EI2 3&quot;
## [1] &quot;No survey 2013 EI2 2&quot;
## [1] &quot;No survey 2013 EI2 3&quot;
## [1] &quot;No survey 2003 M1 1&quot;
## [1] &quot;No survey 2003 M1 2&quot;
## [1] &quot;No survey 2003 M1 3&quot;
## [1] &quot;No survey 2004 M1 1&quot;
## [1] &quot;No survey 2004 M1 2&quot;
## [1] &quot;No survey 2004 M1 3&quot;
## [1] &quot;No survey 2005 M1 1&quot;
## [1] &quot;No survey 2005 M1 2&quot;
## [1] &quot;No survey 2005 M1 3&quot;
## [1] &quot;No survey 2006 M1 1&quot;
## [1] &quot;No survey 2006 M1 2&quot;
## [1] &quot;No survey 2006 M1 3&quot;
## [1] &quot;No survey 2007 M1 1&quot;
## [1] &quot;No survey 2007 M1 2&quot;
## [1] &quot;No survey 2007 M1 3&quot;
## [1] &quot;No survey 2008 M1 1&quot;
## [1] &quot;No survey 2008 M1 2&quot;
## [1] &quot;No survey 2008 M1 3&quot;
## [1] &quot;No survey 2009 M1 2&quot;
## [1] &quot;No survey 2009 M1 3&quot;
## [1] &quot;No survey 2010 M1 2&quot;
## [1] &quot;No survey 2010 M1 3&quot;
## [1] &quot;No survey at station 2011 M1 1 6&quot;
## [1] &quot;No survey at station 2011 M1 1 9&quot;
## [1] &quot;No survey 2011 M1 3&quot;
## [1] &quot;No survey 2012 M1 3&quot;
## [1] &quot;No survey 2013 M1 1&quot;
## [1] &quot;No survey 2013 M1 2&quot;
## [1] &quot;No survey 2013 M1 3&quot;
## [1] &quot;No survey 2003 M2 1&quot;
## [1] &quot;No survey 2003 M2 2&quot;
## [1] &quot;No survey 2003 M2 3&quot;
## [1] &quot;No survey at station 2004 M2 1 3&quot;
## [1] &quot;No survey at station 2004 M2 1 4&quot;
## [1] &quot;No survey at station 2004 M2 1 5&quot;
## [1] &quot;No survey at station 2004 M2 1 6&quot;
## [1] &quot;No survey at station 2004 M2 1 7&quot;
## [1] &quot;No survey at station 2004 M2 1 8&quot;
## [1] &quot;No survey at station 2004 M2 1 9&quot;
## [1] &quot;No survey at station 2004 M2 1 10&quot;
## [1] &quot;No survey 2004 M2 2&quot;
## [1] &quot;No survey 2004 M2 3&quot;
## [1] &quot;No survey at station 2005 M2 1 4&quot;
## [1] &quot;No survey at station 2005 M2 1 5&quot;
## [1] &quot;No survey at station 2005 M2 1 6&quot;
## [1] &quot;No survey at station 2005 M2 1 7&quot;
## [1] &quot;No survey at station 2005 M2 1 8&quot;
## [1] &quot;No survey at station 2005 M2 1 9&quot;
## [1] &quot;No survey at station 2005 M2 1 10&quot;
## [1] &quot;No survey 2006 M2 1&quot;
## [1] &quot;No survey 2006 M2 2&quot;
## [1] &quot;No survey 2006 M2 3&quot;
## [1] &quot;No survey 2007 M2 3&quot;
## [1] &quot;No survey 2008 M2 3&quot;
## [1] &quot;No survey 2009 M2 1&quot;
## [1] &quot;No survey 2009 M2 2&quot;
## [1] &quot;No survey 2009 M2 3&quot;
## [1] &quot;No survey 2010 M2 2&quot;
## [1] &quot;No survey 2010 M2 3&quot;
## [1] &quot;No survey 2011 M2 2&quot;
## [1] &quot;No survey 2011 M2 3&quot;
## [1] &quot;No survey 2012 M2 2&quot;
## [1] &quot;No survey 2012 M2 3&quot;
## [1] &quot;No survey 2013 M2 1&quot;
## [1] &quot;No survey 2013 M2 2&quot;
## [1] &quot;No survey 2013 M2 3&quot;
## [1] &quot;No survey 2003 N1 3&quot;
## [1] &quot;No survey 2004 N1 3&quot;
## [1] &quot;No survey 2005 N1 3&quot;
## [1] &quot;No survey 2006 N1 1&quot;
## [1] &quot;No survey 2006 N1 2&quot;
## [1] &quot;No survey 2006 N1 3&quot;
## [1] &quot;No survey 2007 N1 3&quot;
## [1] &quot;No survey 2008 N1 3&quot;
## [1] &quot;No survey at station 2009 N1 1 10&quot;
## [1] &quot;No survey 2009 N1 3&quot;
## [1] &quot;No survey 2010 N1 3&quot;
## [1] &quot;No survey 2011 N1 3&quot;
## [1] &quot;No survey 2012 N1 3&quot;
## [1] &quot;No survey 2013 N1 2&quot;
## [1] &quot;No survey 2013 N1 3&quot;
## [1] &quot;No survey 2003 N2 3&quot;
## [1] &quot;No survey 2004 N2 3&quot;
## [1] &quot;No survey 2005 N2 3&quot;
## [1] &quot;No survey 2006 N2 1&quot;
## [1] &quot;No survey 2006 N2 2&quot;
## [1] &quot;No survey 2006 N2 3&quot;
## [1] &quot;No survey 2007 N2 3&quot;
## [1] &quot;No survey 2008 N2 3&quot;
## [1] &quot;No survey 2009 N2 3&quot;
## [1] &quot;No survey 2010 N2 3&quot;
## [1] &quot;No survey 2011 N2 3&quot;
## [1] &quot;No survey at station 2012 N2 2 2&quot;
## [1] &quot;No survey 2012 N2 3&quot;
## [1] &quot;No survey 2013 N2 2&quot;
## [1] &quot;No survey 2013 N2 3&quot;
</code></pre>

<p><strong>Test a few</strong></p>

<p>Example data</p>

<pre><code class="r">ys.aug[1,1,1,1,,] #EI1, 2003, Mottd, Survey 1
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    1
##  [3,]    0    0
##  [4,]    0    1
##  [5,]    1    0
##  [6,]    1    1
##  [7,]    1    0
##  [8,]    1    1
##  [9,]    1    1
## [10,]    1    0
</code></pre>

<pre><code class="r">ys.aug[1,1,3,1,,] #EI1, 2003, FerPy, Survey 1
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    1    1
##  [2,]    0    0
##  [3,]    0    0
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    0
##  [8,]    0    0
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<pre><code class="r"># Corresponds with these data:
tab.owls[tab.owls$Stations_ID %in% c(92:98,100:101),2:7]
</code></pre>

<pre><code>## # A tibble: 14 x 6
##    Stations_ID Owl_Species_ID Owl_Number Minute_1 Minute_2 `Minute_6-12`
##          &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt; &lt;lgl&gt;    &lt;lgl&gt;    &lt;lgl&gt;        
##  1          92 FerPy                   1 TRUE     FALSE    TRUE         
##  2          92 FerPy                   2 FALSE    FALSE    TRUE         
##  3          93 Mottd                   1 FALSE    FALSE    TRUE         
##  4          93 Mottd                   2 FALSE    FALSE    TRUE         
##  5          95 Mottd                   1 FALSE    FALSE    TRUE         
##  6          95 Mottd                   2 FALSE    FALSE    TRUE         
##  7          96 Mottd                   1 TRUE     FALSE    FALSE        
##  8          98 Mottd                   1 TRUE     FALSE    FALSE        
##  9         100 Mottd                   1 FALSE    TRUE     TRUE         
## 10         100 Mottd                   2 FALSE    FALSE    TRUE         
## 11         100 Mottd                   3 FALSE    FALSE    TRUE         
## 12         101 Mottd                   1 FALSE    TRUE     FALSE        
## 13          97 Mottd                   1 TRUE     TRUE     TRUE         
## 14          97 Mottd                   2 FALSE    FALSE    TRUE
</code></pre>

<p>No survey in this year</p>

<pre><code class="r">ys.aug[1,1,1,3,,] #EI1, 2003, Mottd, Survey 3
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]   NA   NA
##  [2,]   NA   NA
##  [3,]   NA   NA
##  [4,]   NA   NA
##  [5,]   NA   NA
##  [6,]   NA   NA
##  [7,]   NA   NA
##  [8,]   NA   NA
##  [9,]   NA   NA
## [10,]   NA   NA
</code></pre>

<p>Surveys only for first three stations </p>

<pre><code class="r">ys.aug[1,8,1,1,,] #EI1, 2010, Mottd, Survey 1
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    1
##  [2,]    0    1
##  [3,]    1    0
##  [4,]   NA   NA
##  [5,]   NA   NA
##  [6,]   NA   NA
##  [7,]   NA   NA
##  [8,]   NA   NA
##  [9,]   NA   NA
## [10,]   NA   NA
</code></pre>

<pre><code class="r"># Corresponds with these data:
tab.owls[tab.owls$Stations_ID %in% c(615:617),2:7]
</code></pre>

<pre><code>## # A tibble: 6 x 6
##   Stations_ID Owl_Species_ID Owl_Number Minute_1 Minute_2 `Minute_6-12`
##         &lt;dbl&gt; &lt;chr&gt;               &lt;dbl&gt; &lt;lgl&gt;    &lt;lgl&gt;    &lt;lgl&gt;        
## 1         615 Mottd                   1 FALSE    FALSE    TRUE         
## 2         615 Mottd                   2 FALSE    FALSE    TRUE         
## 3         615 Mottd                   3 FALSE    FALSE    TRUE         
## 4         616 Mottd                   1 FALSE    FALSE    TRUE         
## 5         616 Mottd                   2 FALSE    FALSE    TRUE         
## 6         617 Mottd                   1 FALSE    TRUE     FALSE
</code></pre>

<p>Results for augmented species</p>

<pre><code class="r">ys.aug[1,1,11,1,,] #EI1, 2003, Augmented Species 1, Survey 1
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    0
##  [3,]    0    0
##  [4,]    0    0
##  [5,]    0    0
##  [6,]    0    0
##  [7,]    0    0
##  [8,]    0    0
##  [9,]    0    0
## [10,]    0    0
</code></pre>

<pre><code class="r">ys.aug[1,8,11,1,,] #EI1, 2010, Augmented Species 1, Survey 1 
</code></pre>

<pre><code>##       [,1] [,2]
##  [1,]    0    0
##  [2,]    0    0
##  [3,]    0    0
##  [4,]   NA   NA
##  [5,]   NA   NA
##  [6,]   NA   NA
##  [7,]   NA   NA
##  [8,]   NA   NA
##  [9,]   NA   NA
## [10,]   NA   NA
</code></pre>

<hr/>

<h2>Save files</h2>

<p>Processed Owl Data</p>

<pre><code class="r">save(ys.aug,
     file = &quot;data/processed_data/augmented_jags_ys.Rdata&quot;)
</code></pre>

<p>Processed Support data</p>

<pre><code class="r">save(ks.prebroad, ks.pacific, ks.mottled, ks.crested, ks.bw, ks.spectacled, 
  ks.whiskered, ks.gbarred, ks.stygian, ks.ghorned,
  file = &quot;data/processed_data/augmented_jags_ks.Rdata&quot;)
</code></pre>

<p>Processed broadcast array</p>

<pre><code class="r">broadcast.array &lt;- as.data.frame(broadcast.array)
colnames(broadcast.array) &lt;- c(&quot;EI1&quot;, &quot;EI2&quot;, &quot;M1&quot;, &quot;M2&quot;, &quot;N1&quot;, &quot;N2&quot;)
broadcast.array$Station &lt;- 1:10
save(broadcast.array, file = &quot;data/output_data/broadcast_array.Rdata&quot;)
</code></pre>

<hr/>

<h3>Footer</h3>

<p>Session Info</p>

<pre><code class="r">devtools::session_info()
</code></pre>

<pre><code>## ─ Session info ────────────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 4.0.2 (2020-06-22)
##  os       macOS Mojave 10.14.6        
##  system   x86_64, darwin17.0          
##  ui       RStudio                     
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       America/Chicago             
##  date     2020-11-24                  
## 
## ─ Packages ────────────────────────────────────────────────────────────────────────
##  package      * version date       lib source        
##  assertthat     0.2.1   2019-03-21 [1] CRAN (R 4.0.2)
##  backports      1.1.8   2020-06-17 [1] CRAN (R 4.0.2)
##  base64enc      0.1-3   2015-07-28 [1] CRAN (R 4.0.2)
##  callr          3.4.3   2020-03-28 [1] CRAN (R 4.0.2)
##  cellranger     1.1.0   2016-07-27 [1] CRAN (R 4.0.2)
##  checkmate      2.0.0   2020-02-06 [1] CRAN (R 4.0.2)
##  chron        * 2.3-56  2020-08-18 [1] CRAN (R 4.0.2)
##  cli            2.0.2   2020-02-28 [1] CRAN (R 4.0.2)
##  cluster        2.1.0   2019-06-19 [1] CRAN (R 4.0.2)
##  colorspace     1.4-1   2019-03-18 [1] CRAN (R 4.0.2)
##  crayon         1.3.4   2017-09-16 [1] CRAN (R 4.0.2)
##  data.table     1.13.0  2020-07-24 [1] CRAN (R 4.0.2)
##  desc           1.2.0   2018-05-01 [1] CRAN (R 4.0.2)
##  devtools     * 2.3.1   2020-07-21 [1] CRAN (R 4.0.2)
##  digest         0.6.25  2020-02-23 [1] CRAN (R 4.0.2)
##  dplyr        * 1.0.1   2020-07-31 [1] CRAN (R 4.0.2)
##  ellipsis       0.3.1   2020-05-15 [1] CRAN (R 4.0.2)
##  evaluate       0.14    2019-05-28 [1] CRAN (R 4.0.1)
##  ezknitr      * 0.6     2016-09-16 [1] CRAN (R 4.0.2)
##  fansi          0.4.1   2020-01-08 [1] CRAN (R 4.0.2)
##  forcats        0.5.0   2020-03-01 [1] CRAN (R 4.0.2)
##  foreign        0.8-80  2020-05-24 [1] CRAN (R 4.0.2)
##  Formula      * 1.2-3   2018-05-03 [1] CRAN (R 4.0.2)
##  fs             1.5.0   2020-07-31 [1] CRAN (R 4.0.2)
##  gdata        * 2.18.0  2017-06-06 [1] CRAN (R 4.0.2)
##  generics       0.0.2   2018-11-29 [1] CRAN (R 4.0.2)
##  ggplot2      * 3.3.2   2020-06-19 [1] CRAN (R 4.0.2)
##  glue           1.4.1   2020-05-13 [1] CRAN (R 4.0.2)
##  gridExtra      2.3     2017-09-09 [1] CRAN (R 4.0.2)
##  gtable         0.3.0   2019-03-25 [1] CRAN (R 4.0.2)
##  gtools         3.8.2   2020-03-31 [1] CRAN (R 4.0.2)
##  haven          2.3.1   2020-06-01 [1] CRAN (R 4.0.2)
##  highr          0.8     2019-03-20 [1] CRAN (R 4.0.2)
##  Hmisc        * 4.4-1   2020-08-10 [1] CRAN (R 4.0.2)
##  hms            0.5.3   2020-01-08 [1] CRAN (R 4.0.2)
##  htmlTable      2.0.1   2020-07-05 [1] CRAN (R 4.0.2)
##  htmltools      0.5.0   2020-06-16 [1] CRAN (R 4.0.2)
##  htmlwidgets    1.5.1   2019-10-08 [1] CRAN (R 4.0.2)
##  ImportExport * 1.1     2015-09-19 [1] CRAN (R 4.0.2)
##  jpeg           0.1-8.1 2019-10-24 [1] CRAN (R 4.0.2)
##  knitr        * 1.29    2020-06-23 [1] CRAN (R 4.0.2)
##  lattice      * 0.20-41 2020-04-02 [1] CRAN (R 4.0.2)
##  latticeExtra   0.6-29  2019-12-19 [1] CRAN (R 4.0.2)
##  lifecycle      0.2.0   2020-03-06 [1] CRAN (R 4.0.2)
##  lubridate    * 1.7.9   2020-06-08 [1] CRAN (R 4.0.2)
##  magrittr       1.5     2014-11-22 [1] CRAN (R 4.0.2)
##  markdown       1.1     2019-08-07 [1] CRAN (R 4.0.2)
##  Matrix         1.2-18  2019-11-27 [1] CRAN (R 4.0.2)
##  memoise        1.1.0   2017-04-21 [1] CRAN (R 4.0.2)
##  munsell        0.5.0   2018-06-12 [1] CRAN (R 4.0.2)
##  nnet           7.3-14  2020-04-26 [1] CRAN (R 4.0.2)
##  pillar         1.4.6   2020-07-10 [1] CRAN (R 4.0.2)
##  pkgbuild       1.1.0   2020-07-13 [1] CRAN (R 4.0.2)
##  pkgconfig      2.0.3   2019-09-22 [1] CRAN (R 4.0.2)
##  pkgload        1.1.0   2020-05-29 [1] CRAN (R 4.0.2)
##  png            0.1-7   2013-12-03 [1] CRAN (R 4.0.2)
##  prettyunits    1.1.1   2020-01-24 [1] CRAN (R 4.0.2)
##  processx       3.4.3   2020-07-05 [1] CRAN (R 4.0.2)
##  ps             1.3.3   2020-05-08 [1] CRAN (R 4.0.2)
##  purrr          0.3.4   2020-04-17 [1] CRAN (R 4.0.2)
##  R.methodsS3    1.8.0   2020-02-14 [1] CRAN (R 4.0.2)
##  R.oo           1.23.0  2019-11-03 [1] CRAN (R 4.0.2)
##  R.utils        2.9.2   2019-12-08 [1] CRAN (R 4.0.2)
##  R6             2.4.1   2019-11-12 [1] CRAN (R 4.0.2)
##  RColorBrewer   1.1-2   2014-12-07 [1] CRAN (R 4.0.2)
##  Rcpp           1.0.5   2020-07-06 [1] CRAN (R 4.0.2)
##  readxl       * 1.3.1   2019-03-13 [1] CRAN (R 4.0.2)
##  remotes        2.2.0   2020-07-21 [1] CRAN (R 4.0.2)
##  rJava          0.9-13  2020-07-06 [1] CRAN (R 4.0.2)
##  rlang          0.4.7   2020-07-09 [1] CRAN (R 4.0.2)
##  RODBC        * 1.3-17  2020-05-11 [1] CRAN (R 4.0.2)
##  rpart          4.1-15  2019-04-12 [1] CRAN (R 4.0.2)
##  rprojroot      1.3-2   2018-01-03 [1] CRAN (R 4.0.2)
##  rstudioapi     0.11    2020-02-07 [1] CRAN (R 4.0.2)
##  scales         1.1.1   2020-05-11 [1] CRAN (R 4.0.2)
##  sessioninfo    1.1.1   2018-11-05 [1] CRAN (R 4.0.2)
##  stringi        1.4.6   2020-02-17 [1] CRAN (R 4.0.2)
##  stringr        1.4.0   2019-02-10 [1] CRAN (R 4.0.2)
##  survival     * 3.1-12  2020-04-10 [1] CRAN (R 4.0.2)
##  testthat       2.3.2   2020-03-02 [1] CRAN (R 4.0.2)
##  tibble         3.0.3   2020-07-10 [1] CRAN (R 4.0.2)
##  tidyselect     1.1.0   2020-05-11 [1] CRAN (R 4.0.2)
##  usethis      * 1.6.1   2020-04-29 [1] CRAN (R 4.0.2)
##  utf8           1.1.4   2018-05-24 [1] CRAN (R 4.0.2)
##  vctrs          0.3.2   2020-07-15 [1] CRAN (R 4.0.2)
##  withr          2.2.0   2020-04-20 [1] CRAN (R 4.0.2)
##  xfun           0.16    2020-07-24 [1] CRAN (R 4.0.2)
##  xlsx         * 0.6.4.2 2020-09-12 [1] CRAN (R 4.0.2)
##  xlsxjars       0.6.1   2014-08-22 [1] CRAN (R 4.0.2)
## 
## [1] /Library/Frameworks/R.framework/Versions/4.0/Resources/library
</code></pre>

<p>This document was &ldquo;spun&rdquo; with:</p>

<p>ezspin(file = &ldquo;programs/c04_process_data_richness.R&rdquo;, out_dir = &ldquo;output&rdquo;, fig_dir = &ldquo;figures&rdquo;, keep_md = F)</p>

</body>

</html>
